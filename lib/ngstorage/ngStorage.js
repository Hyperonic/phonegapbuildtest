"use strict";!function(){function e(e){return["$rootScope","$window",function(n,a){for(var r,t,o,l=a[e]||{},u={$default:function(e){for(var n in e)angular.isDefined(u[n])||(u[n]=e[n]);return u},$reset:function(e){for(var n in u)"$"===n[0]||delete u[n];return u.$default(e)}},g=0;g<l.length;g++)(o=l.key(g))&&"ngStorage-"===o.slice(0,10)&&(u[o.slice(10)]=angular.fromJson(l.getItem(o)));return r=angular.copy(u),n.$watch(function(){t||(t=setTimeout(function(){if(t=null,!angular.equals(u,r)){angular.forEach(u,function(e,n){angular.isDefined(e)&&"$"!==n[0]&&l.setItem("ngStorage-"+n,angular.toJson(e)),delete r[n]});for(var e in r)l.removeItem("ngStorage-"+e);r=angular.copy(u)}},100))}),"localStorage"===e&&a.addEventListener&&a.addEventListener("storage",function(e){"ngStorage-"===e.key.slice(0,10)&&(e.newValue?u[e.key.slice(10)]=angular.fromJson(e.newValue):delete u[e.key.slice(10)],r=angular.copy(u),n.$apply())}),u}]}angular.module("ngStorage",[]).factory("$localStorage",e("localStorage")).factory("$sessionStorage",e("sessionStorage"))}();